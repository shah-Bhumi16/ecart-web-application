<div class="container" style="background-color: rgb(248, 248, 248);">
   <h3 style="color: rgb(152, 74, 241);"> {{userName }} Your cart Details!</h3><br>
    
    <button class = "btn btn-primary" (click)="pc.home()">Home</button>
        <!-- <button class = "btn btn-primary" (click)="pc.login()">Login</button> -->
        <button class = "btn btn-primary" (click)="pc.cart()">Cart</button>
        <button class = "btn btn-primary" (click)="pc.logout()">Logout</button>
        <button class = "btn btn-primary" (click)="pc.getordersnew()">View OrderDetails</button><br/><br>

    <div class="mainbody">
        
        <table class="table table-striped" [mfData]="products" #mf="mfDataTable" [mfRowsOnPage]="5"  style="font-size: 16px; font-weight: 500px; color: black;"class = "table table-striped table-bordered">
              <thead>
              <tr style = "background: rgb(148, 223, 248);" >
                 <th style="width: 15%">
                    <mfDefaultSorter by="image">Image</mfDefaultSorter>
                  </th>
                  <th style="width: 15%">
                    <mfDefaultSorter by="name">Name</mfDefaultSorter>
                  </th>
                  <th style="width: 10%">
                      <mfDefaultSorter by="description">Description</mfDefaultSorter>
                  </th>
                  <th style="width: 2%">
                      <mfDefaultSorter by="quantity">Selected Quantity</mfDefaultSorter>
                   </th>
                  
                   <th style="width: 5%">
                      <mfDefaultSorter by="price">Price Per Unit</mfDefaultSorter>
                  </th>
                  
                  <th style="width: 10%">
                      <mfDefaultSorter by="price">Final Amount</mfDefaultSorter>
                  </th>
                   <th style="width: 10%">
                      <mfDefaultSorter >Delete Item from Cart</mfDefaultSorter>
                  </th>

              </tr>
              </thead>
              <tbody *ngIf="counter==0">
              <tr *ngFor="let item of mf.data">
                  <td><img style="display:block;" width="50%" height="100px" [src]="item.product.image"></td>
                  <td>{{item?.product.name}}</td>
                  <td>{{item?.product.description}}</td>
                  
                   <td><input class="quantity" name="Quantity" min="1"  [(max)]="item.maxcartqty"   name="quantity"   [(ngModel)] = "item.quantity" type="number" onkeydown="return false"
                     (change)="changeQunatity($event, item.id)"></td>
                        <!-- <button type="button" (click)="addCheckout" *ngIf="item.quantity==0" class = "btn btn-primary" style="background-color: rgb(250, 120, 153); color: black;">out of stock</button></td> -->
                    <!--<td>{{item?.quantity}}</td> -->
                  <td>{{item?.product.price}}</td>
                  <td>{{item?.finalPrice}}</td> 
                  <td><button type="button"  class = "btn btn-primary" style="font-size: 15px; font-weight: 700; margin-top: 5px; margin-left: 20px; border-color: rgb(253, 61, 54); text-align: center; color:black; background-color:rgb(120, 178, 245);"  (click)="deleteCartItem(item.id)">Delete Item</button></td>
                   
                </tr>
              </tbody>

              <tbody *ngIf="counter!=0">
              <tr *ngFor="let item of mf.data">
                  <td><img style="display:block;" width="50%" height="100px" [src]="item.product.image"></td>
                  <td>{{item?.product.name}}</td>
                  <td>{{item?.product.description}}</td>
                  
                   <td><input class="quantity" name="Quantity" min="1"  [(max)]="item.maxcartqty"   name="quantity"   [(ngModel)] = "item.quantity" type="number" onkeydown="return false"
                     (change)="changeQunatity($event, item.id)"></td>
                        <!-- <button type="button" (click)="addCheckout" *ngIf="item.quantity==0" class = "btn btn-primary" style="background-color: rgb(250, 120, 153); color: black;">out of stock</button></td> -->
                    <!--<td>{{item?.quantity}}</td> -->
                  <td>{{item?.product.price}}</td>
                  <td>{{item?.finalPrice}}</td> 
                  <td><button type="button"  class = "btn btn-primary" style="font-size: 15px; font-weight: 700; margin-top: 5px; margin-left: 20px; border-color: rgb(253, 61, 54); text-align: center; color:black; background-color:rgb(120, 178, 245);"  (click)="deleteCartItem(item.id)">Delete Item</button></td>
                   <td>{{item?.alerts}}</td> 
                </tr>
              </tbody>
              

              <tfoot>
              <tr>
                  <td colspan="5">
                      <mfBootstrapPaginator [rowsOnPageSet]="[5,10,25]"></mfBootstrapPaginator>
                  </td>
                  <td class="d-flex justify-content-center"><div *ngIf="products">Subtotal : {{subtotal}}</div></td>
              </tr>
              </tfoot>
          
        </table>
    </div>
    
    <div>
      <td *ngIf="showbtn==false"><button type="button" (click)="addCheckout()"  class = "btn btn-primary"  *ngIf="subtotal>0" style="font-size: 15px; font-weight: 700; margin-top: 10px; border-color: rgb(253, 61, 54); text-align: center; color:black; background-color:rgb(120, 178, 245);"  >Checkout</button></td>
      <td *ngIf="showbtn==true"><button type="button"  (click)="addCheckout()" class = "btn btn-primary" *ngIf="subtotal>0" disabled style="font-size: 15px; font-weight: 700; margin-top: 10px; border-color: rgb(253, 61, 54); text-align: center; color:black; background-color:rgb(120, 178, 245);"  >Checkout  </button></td>
        <!-- *ngIf="cartItem.product.quantity>cartItem.maxcartqty" -->
</div>

</div>
